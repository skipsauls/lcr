console.warn("bar.js"),console.warn("foo");var Base=function(){};Base.prototype.defaultImage="/analytics/wave/web/proto/images/thumbs/thumb-dashboard.png",Base.prototype.init=function(e,t){this._def=e,this._typeMap={folder:"app"},this.getDef=function(e){return"function"!=typeof e?this._def:void e(this._def,null)},this.getId=function(){return this._def.id},this.getApp=function(e){this._def&&this._def.folder?getApp({id:this._def.folder.id},e):"function"==typeof e&&e(null,"No app found, perhaps you are calling this from an App?")},"function"==typeof t&&t(this)},Base.prototype.getType=function(){return this._typeMap[this._def.type]||this._def.type},Base.prototype.getName=function(){return this._def.name},Base.prototype.getLabel=function(){return this._def.label},Base.prototype.setLabel=function(e){this._def.label=e,updateAsset(this._def,"label",function(e,t){console.warn("updateAsset returned: ",e,t)})},Base.prototype.getPreview=function(e){if(this._def.imageData)"function"==typeof e&&e(this._def.imageData.length?this._def.imageData[0]:this._def.imageData,null);else{var t=this,o=window.performance.now();getImages(this._def,function(n){var i=window.performance.now();if(console.log("getImages timing: "+(null!==n?n.length:0)+" images in "+((i-o)/1e3).toFixed(4)+" seconds"),t._def.imageData=n,"function"==typeof e){t._def.imageData?(t._def.imageData.length?t._def.imageData[0]:t._def.imageData,force.oauth.instance_url+t.defaultImage):null;e(t._def.imageData||force.oauth.instance_url+t.defaultImage)}})}},window.wave=window.wave||function(){"use strict";function e(e){if(e&&e.apiVersion)try{var t=parseFloat(e.apiVersion.replace("v",""));if(t<parseFloat(f.replace("v","")))throw e.apiVersion=f,"Setting API version to "+f+", the minimum supported API version for Wave Analytics"}catch(o){console.error("Exception: ",o)}var n=localStorage.getItem("forceOAuth");if(n)try{force.oauth=JSON.parse(n),force.tokenStore.forceOAuth=n,i(function(e,t){t?(console.warn("initUser error; ",t),wave.logout()):c=e})}catch(o){force.oauth={},force.tokenStore.forceOAuth={}}force.init(e)}function t(e){var t=localStorage.getItem("forceOAuth"),o=!0;if(t)try{force.oauth=JSON.parse(t),force.tokenStore.forceOAuth=t,o=!1,"function"==typeof successHandler&&i(function(t,o){o?console.warn("initUser error; ",o):(c=t,e({message:"Already authenticated"},null))})}catch(n){}o===!0&&force.login(function(t){localStorage.setItem("forceOAuth",force.tokenStore.forceOAuth),"function"==typeof e&&i(function(t,o){o?console.warn("initUser error; ",o):(c=t,e(t,null))})},function(t){"function"==typeof e&&e(null,t)})}function o(e){force.discardToken(),force.oauth={},force.tokenStore.forceOAuth={},localStorage.removeItem("forceOAuth"),"function"==typeof e&&e(null,null)}function n(){return force.isAuthenticated()}function i(e){force.request({path:"/services/data/"+r+"/sobjects/User/"+force.getUserId()},function(t){"function"==typeof e&&e(t,null)},function(t){"function"==typeof e&&e(null,t)})}function a(e){c?e(c,null):i(e)}var r="v36.0",f="v36.0",c=null;return{init:e,login:t,logout:o,isAuthenticated:n,getUser:a}}();